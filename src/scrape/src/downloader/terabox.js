async function t(t){try{return(await a.post("https://terabox-dl.qtcloud.workers.dev/api/get-download",t)).data.downloadLink}catch(t){return t.response.data}}import a from"axios";export default async function o(o){let r=(o.split(/surl=|\/s\//)||[])[1];r=`1${r.replace(/^1/,"")}`;const e=(await a.get(`https://terabox-dl.qtcloud.workers.dev/api/get-info?shorturl=${r}`)).data;if(!0!==e.ok)throw new Error(e.message);for(const a of e.list){const o={"shareId":e.shareId,"uk":e.uk,"sign":e.sign,"timestamp":e.timestamp,"fsId":a.children.length?a.children[0].fs_id:a.fs_id},r=await t(o);a.downloadLink=r}return e}