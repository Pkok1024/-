function e(e){return e.replace(/^[ \t]+|[ \t]+$/gi,"").replace(/[\.,'/:=\(\)&!\?@\[\]"\*\$#%\^;\|`\\~><¿\{\}\+]/gi," ").replace(/[éèëê]/gi,"e").replace(/[äàâ]/gi,"a").replace(/[üùû]/gi,"u").replace(/[îï]/gi,"i").replace(/ô/gi,"o").replace(/ç/gi,"c").replace(/【/gi,"").replace(/】/gi,"").replace(/〈/gi,"").replace(/〉/gi,"").replace(/〖/gi,"").replace(/〗/gi,"").replace(/（/gi,"").replace(/）/gi,"").replace(/　/gi,"").replace(/〔/gi,"").replace(/〕/gi,"").replace(/『/gi,"").replace(/』/gi,"").replace(/］/gi,"").replace(/［/gi,"").trim().split(/\s+/).join("+")}function t(e){return e.replace(/[^a-zA-Z0-9\s]/g," ").trim().split(/\s+/).join("-")}async function r(e){const t=z.mainPage(),r=await e.request.get(t);return await r.text()}function a(e){return fe.load(e)}function n(e,t,r){return e.attr(t)??r}function i(e,t,r){return e.data(t)??r}async function o(e){const t=i(a(await r(e))('form#search_form input[name="search"]'),"token",null);if(!t)throw new Error("Failed to get token");return t}async function s(e,t,r){var a,n,i;const s=r.token??await o(e),u=await e.request.get(z.autocomplete(t,{...r,"token":s})),c=await u.json();return{...c,"models":(null==(a=c.models)?void 0:a.map((e=>({...e,"url":z.modelPage(e.slug)}))).sort(((e,t)=>e.rank-t.rank)))??[],"pornstars":(null==(n=c.pornstars)?void 0:n.map((e=>({...e,"url":z.pornstarPage(e.slug)}))).sort(((e,t)=>e.rank-t.rank)))??[],"channels":(null==(i=c.channels)?void 0:i.map((e=>({...e,"url":z.channelPage(e.slug)}))).sort(((e,t)=>+e.rank-+t.rank)))??[]}}function u(e){const{"duration":t,"views":r,"video_id":a,"rating":n,"ratings":i,"title":o,"url":s,"default_thumb":u,"thumb":c,"publish_date":l,"thumbs":d,"tags":h,"pornstars":m,"categories":g,"segment":p}=e,f=i,v=Math.round(f*n/100);return{"duration":t,"views":r,"video_id":a,"vote":{"up":v,"down":f-v,"total":f,"rating":Math.round(100*n)/100},"title":o,"url":s,"default_thumb":u,"thumb":c,"publish_date":l,"thumbs":d.map((({"width":e,"height":t,"src":r})=>({"width":e,"height":t,"src":r}))),"tags":h.map((e=>e.tag_name)),"pornstars":m.map((e=>e.pornstar_name)),"categories":g.map((e=>e.category)),"segment":p}}function c(e){const t=Number.parseInt(e("li.page_current").text())||1,r=e("li.page_next"),a=!r.length||r.hasClass("disabled");return{"current":t,"maxPage":a?t:Number.parseInt(r.prev("li").text())||1,"isEnd":a}}function l(e){try{const t=e(".showingCounter").text(),[,r="0",a="0",n="0"]=/(\d+)-(\d+)\sof\s(\d+)/.exec(t)||[];return{"from":Number.parseInt(r),"to":Number.parseInt(a),"total":Number.parseInt(n)}}catch(e){return{"from":0,"to":0,"total":0}}}function d(e){return e("#popularPornstars li.performerCard").map(((t,r)=>{const a=e(r),o=a.find(".performerCardName").text().trim(),s=n(a.find("a.title"),"href","");return{"name":o,"url":Ce(D,s),"views":a.find(".viewsNumber").text().replace("Views","").trim()||"0","videoNum":Number.parseInt(a.find(".videosNumber").text().replace("Videos",""))||0,"rank":Number.parseInt(a.find(".rank_number").text())||0,"photo":i(a.find("img"),"thumb_url",""),"verified":a.find(".verifiedPornstar").length>0,"awarded":a.find(".trophyPornStar").length>0}})).get()}function h(e){return null!=e}function m(e,t){return("string"==typeof t?e(`${t} li.videoBox`):t.find("li.videoBox")).map(((t,r)=>{const a=e(r),i=a.find(".linkVideoThumb").eq(0),o=n(i,"title",""),s=n(i,"href","");if("javascript:void(0)"===s)return null;const u=Ve(D,s),c=Q.getVideoID(u),l=n(a.find("img"),"src","");return{"title":o,"id":c,"url":u,"views":a.find(".videoDetailsBlock .views var").text(),"duration":a.find(".duration").text(),"hd":!!a.find(".hd-thumbnail").length,"premium":!!a.find(".premiumIcon").length,"freePremium":!!a.find(".marker-overlays .phpFreeBlock").length,"preview":l}})).get().filter(h)}function g(e){return e("ul.photosAlbumsListing li.photoAlbumListContainer div.photoAlbumListBlock").map(((t,r)=>{const a=e(r);return{"url":`${D}${a.find("a").attr("href")}`||"","views":a.find(".album-views").text().replace("Views: ","").trim(),"rating":a.find(".album-rating").text(),"preview":i(a,"bkg","")}})).get()}function p(e){const t=e("div.pfileInfoBox div.usernameWrap");return{"id":i(t,"userid",""),"username":t.find("a").text(),"url":n(t.find("a"),"href","")}}function f(e){return e("div.tagContainer > a").map(((t,r)=>e(r).text().trim())).get()}function v(e){if(!e)return 0;const t=e.replace(/,/g,"");return t.includes("K")?1e3*Number.parseFloat(t):t.includes("M")?1e6*Number.parseFloat(t):t.includes("B")?1e9*Number.parseFloat(t):Number.parseFloat(t)}function w(e){var t;const r=e("div#photoWrapper"),a=r.find("img"),n=a.attr("alt")||"",i=a.attr("src")||"",o=(null==(t=r.data("album-id"))?void 0:t.toString())||"",s=`${r.find("span#votePercentageNumber").text()}%`||"",u=r.find("section#photoInfoSection strong").text();return{"title":n,"views":Number.parseInt(u.replace(/,/g,""))||0,"rating":s,"albumID":o,"url":i}}function y(e){const t=e("div#userInformation div.usernameWrap");return{"id":t.data("userid"),"username":t.find("a").text(),"url":t.find("a").attr("href")||""}}function b(e){const t=e("ul.tagList a.tagText");return t.map((e=>t.eq(e).text())).get()}function k(e,t){var r,a,o,s;const u=v(t("span.votesUp").text()||"0"),c=v(t("span.votesDown").text()||"0"),l=t("head > title").first().text().replace(" - Pornhub.com",""),d=v(t("span.count").text()||"0"),h=u+c,m={"up":u,"down":c,"total":h,"rating":0===h?0:Math.round(u/h*100)/100},g=0!==t("#videoTitle .ph-icon-badge-premium").length,p=n(t(".thumbnail img"),"src",""),f=n(t('head meta[property="og:image"]'),"content",""),w=t(".usernameBadgesWrapper a.bolded").first(),y=w.length?{"username":w.text(),"url":n(w,"href","")}:null,b=t("head meta[name=adsbytrafficjunkycontext]"),k=(null==(r=i(b,"context-tag"))?void 0:r.split(","))||[],P=(null==(a=i(b,"context-pornstar"))?void 0:a.split(","))||[],C=(null==(o=i(b,"context-category"))?void 0:o.split(","))||[],V=+n(t('head meta[property="video:duration"]'),"content",0);return{"title":l,"views":d,"vote":m,"premium":g,"thumb":p,"preview":f,"videos":[],"provider":y,"tags":k,"pornstars":P,"categories":C,"duration":V,"durationFormatted":(s=V,[Math.floor(s/3600),Math.floor(s/60)%60,s%60].map((e=>10>e?`0${e}`:e)).filter(((e,t)=>"00"!==e||t>0)).join(":")),...S(t)}}function S(e){try{const t=JSON.parse(e('head script[type="application/ld+json"]').first().text());return{"uploadDate":new Date(t.uploadDate)}}catch(e){return console.error("Failed to parse ld+json",e),{"uploadDate":new Date(0)}}}function P(e){const t=[];for(;;){const r=me.exec(e);if(!r)break;try{const[,e,a,n,i,,o,,,s]=r,u="true"===e||"false"!==e&&+e,c=o?JSON.parse(o):+i.replace(/"/g,"");t.push({"defaultQuality":u,"format":a,"videoUrl":n,"quality":c,"remote":"true"===s})}catch(e){console.warn(`Failed to parse media definition from input: "${r}"`),console.warn(e)}}return t}function C(e){return e("ul#photosAlbumsSection li.photoAlbumListContainer div.photoAlbumListBlock").map(((t,r)=>{var a;const o=e(r);return{"title":n(o,"title",""),"url":`${D}${o.find("a").attr("href")}`,"rating":o.find(".album-photo-percentage").text(),"preview":i(o,"bkg")||(null==(a=n(o,"style","").match(/url\("(.+)"\)/))?void 0:a[1])||""}})).get()}function V(e){return e("ul.gifLink li.gifVideoBlock").map(((t,r)=>{const a=e(r),o=a.find("video"),s=n(o,"poster",""),u=n(a.find("a"),"href","");return{"title":a.find(".title").text(),"url":Me(D,u),"mp4":i(o,"mp4",""),"webm":i(o,"webm",""),"preview":Z(s)}})).get()}function M(e){return e("ul#pornstarsSearchResult li div.wrap").map(((t,r)=>{const a=e(r),o=n(a.find("a"),"href",""),s=a.find("img");return{"name":a.find(".title").text(),"url":_e(D,o),"views":a.find(".pstarViews").text().replace("views","").trim()||"0","videoNum":Number.parseInt(a.find(".videosNumber").text())||0,"rank":Number.parseInt(a.find(".rank_number").text())||0,"photo":i(s,"thumb_url","")}})).get()}var _,R,I,$,x,L,T,N,A,B,E,D,z,O,W,H,U,j,F,G,J,q,K,Q,Y,Z,X,ee,te,re,ae,ne,ie,oe,se,ue,ce,le,de,he,me,ge;import pe from"urlcat";_={"Most Relevant":"","Most Recent":"mr","Most Viewed":"mv","Top Rated":"tr","Longest":"lg"},R={"Most Relevant":"","Most Recent":"mr","Most Viewed":"mv","Top Rated":"tr"},I={"Most Relevant":"","Most Recent":"mr","Most Viewed":"mv","Top Rated":"tr"},$={"Most Relevant":"","Most Popular":"mp","Most Viewed":"mv","No. of Video":"nv"},x={"Featured Recently":"","Most Viewed":"mv","Top Rated":"tr","Hottest":"ht","Longest":"lg","Newest":"cm"},L={"Most Popular":"","Most Viewed":"mv","Top Trending":"t","Most Subscribed":"ms","Alphabetical":"a","No. of Videos":"nv","Random":"r"},T={"Most Relevant":"","Most Recent":"time"},N={"weekly":"w","monthly":"","yearly":"a"},A={"daily":"t","weekly":"w","monthly":"m","alltime":""},B={"daily":"t","weekly":"w","monthly":"m","yearly":"y","alltime":""},E={"Argentina":"ar","Australia":"au","Austria":"at","Belgium":"be","Brazil":"br","Bulgaria":"bg","Canada":"ca","Chile":"cl","Croatia":"hr","Czech Republic":"cz","Denmark":"dk","Egypt":"eg","Finland":"fi","France":"fr","Germany":"de","Greece":"gr","Hungary":"hu","India":"in","Ireland":"ie","Israel":"il","Italy":"it","Japan":"jp","Korea":"kr","Mexico":"mx","Morocco":"ma","Netherlands":"nl","New Zealand":"nz","Norway":"no","Pakistan":"pk","Poland":"pl","Portugal":"pt","Romania":"ro","Russia":"ru","Serbia":"rs","Slovakia":"sk","Spain":"es","Sweden":"se","Switzerland":"ch","United Kingdom":"gb","Ukraine":"ua","United States":"us","World":"world"},D="https://www.pornhub.com",z={"mainPage":()=>`${D}/`,"authenticate":()=>pe(D,"/front/authenticate"),"logout":e=>pe(D,"/user/logout",{"token":e}),"autocomplete":(e,{"token":t,"sexualOrientation":r="straight"})=>pe(D,"/video/search_autocomplete",{"q":e,"orientation":r,"pornstars":!0,"token":t,"alt":0}),"albumPage":e=>pe(D,"/album/:id",{"id":e}),"photoPage":e=>pe(D,"/photo/:id",{"id":e}),"videoPage":e=>pe(D,"/view_video.php",{"viewkey":e}),"pornstarPage":e=>pe(D,"/pornstar/:name",{"name":e}),"modelPage":e=>pe(D,"/model/:name",{"name":e}),"modelVideosPage":(e,t)=>pe(D,"/model/:name/videos",{"name":e,"page":t}),"channelPage":e=>pe(D,"/channels/:name",{"name":e}),"randomPage":()=>pe(D,"/random"),"recommendedPage"({"order":e="Most Relevant","page":t=1,"sexualOrientation":r="straight"}){const a="straight"===r?void 0:r;return pe(D,a?"/:orientation/recommended":"/recommended",{"orientation":a,..."Most Relevant"!==e&&{"o":T[e]},...1!==t&&{"page":t}})},"albumSearch"(t,{"page":r=1,"segments":a="female-straight-uncategorized","order":n="Most Relevant","verified":i=!1}){const o=I[n];return pe(D,"/albums/:segment",{"segment":(s=a,Array.isArray(s)?s.map((e=>e.trim())).filter((e=>e.length>0)).sort(((e,t)=>e.localeCompare(t))).join("-"):s.trim()),"search":e(t),...1!==r&&{"page":r},...o&&{"o":o},...i&&{"verified":"1"}});var s},"gifSearch"(t,{"page":r=1,"order":a="Most Relevant","sexualOrientation":n="straight"}){const i=R[a],o="straight"===n?void 0:n;return pe(D,o?"/:orientation/gifs/search":"/gifs/search",{"orientation":o,"search":e(t),...1!==r&&{"page":r},...i&&{"o":i}})},"pornstarSearch"(t,{"page":r=1,"order":a="Most Relevant","sexualOrientation":n="straight"}){const i=$[a],o="straight"===n?void 0:n;return pe(D,o?"/:orientation/pornstars/search":"/pornstars/search",{"orientation":o,"search":e(t),...1!==r&&{"page":r},...i&&{"o":i}})},"videoSearch"(t,r){const{"page":a=1,"order":n="Most Relevant","hd":i=!1,"production":o="all","durationMin":s,"durationMax":u,"filterCategory":c,"sexualOrientation":l="straight"}=r,d=_[n],h="straight"===l?void 0:l;return pe(D,h?"/:orientation/video/search":"/video/search",{"orientation":h,"search":e(t),...1!==a&&{"page":a},...d&&{"o":d},...i&&{"hd":"1"},..."all"!==o&&{"p":o},...s&&{"min_duration":s},...u&&{"max_duration":u},...c&&{"filter_category":c},...("Most Viewed"===r.order||"Top Rated"===r.order)&&r.period&&"alltime"!==r.period&&{"t":B[r.period]}})},"videoList"(e){const{"page":t=1,"order":r="Featured Recently","hd":a=!1,"production":n="all","durationMin":i,"durationMax":o,"filterCategory":s,"sexualOrientation":u="straight"}=e,c=x[r];return pe(D,"transgender"===u?"transgender":"gay"===u?"/gayporn":"/video",{...s&&{"c":s},..."all"!==n&&{"p":n},...c&&{"o":c},...("Most Viewed"===e.order||"Top Rated"===e.order)&&e.period&&"alltime"!==e.period&&{"t":B[e.period]},..."Hottest"===e.order&&e.country&&"World"!==e.country&&{"cc":E[e.country]},...i&&{"min_duration":i},...o&&{"max_duration":o},...a&&{"hd":"1"},...1!==t&&{"page":t}})},"pornstarList"(e){const{"gay":t=!1,"performerType":r,"gender":a,"ethnicity":n,"tattoos":i,"cup":o,"piercings":s,"hair":u,"breastType":c,"ageFrom":l=18,"ageTo":d=99,"order":h="Most Popular","page":m=1}=e,g=e=>e?"yes":"no",p=L[h],f=`${l}-${d}`;return pe(D,t?"/gay/pornstars":"/pornstars",{...r&&{"performerType":r},...a&&{"gender":a},...n&&{"ethnicity":n},..."boolean"==typeof s&&{"piercings":g(s)},..."18-99"!==f&&{"age":f},...o&&{"cup":o.toLowerCase()},...c&&{"breastType":c},...u&&{"hair":u},..."boolean"==typeof i&&{"tattoos":g(i)},...p&&{"o":p},..."Alphabetical"===e.order&&{"letter":(e.letter??"a").toLowerCase()},..."Most Popular"===e.order&&e.timeRange&&"monthly"!==e.timeRange&&{"timeRange":N[e.timeRange]},..."Most Viewed"===e.order&&e.timeRange&&"alltime"!==e.timeRange&&{"timeRange":A[e.timeRange]},...1!==m&&{"page":m}})}},O=pe(D,"/webmasters"),W={"isVideoActive":e=>pe(O,"/is_video_active",{"id":e}),"categories":()=>pe(O,"/categories"),"deletedVideos":e=>pe(O,"/deleted_videos",{"page":e}),"video_embed_code":e=>pe(O,"/video_embed_code",{"id":e}),"stars_detailed":()=>pe(O,"/stars_detailed"),"stars":()=>pe(O,"/stars"),"tags":e=>pe(O,"/tags",{"list":e}),"video_by_id":(e,t)=>pe(O,"/video_by_id",{"id":e,"thumbsize":t}),"search"(e,t={}){var r,a,n;const i={"search":e.split(" ").join("+"),"page":t.page,"period":t.period,"ordering":t.ordering,"thumbsize":t.thumbsize,"tags[]":null==(r=t.tags)?void 0:r.join(","),"stars[]":null==(a=t.stars)?void 0:a.join(","),"category":null==(n=t.category)?void 0:n.join(",")};return pe(O,"/search",i)}};import*as fe from"cheerio";import ve from"fs";import we from"path";import ye from"process";import be from"debug";H=be("DUMP"),U=class{"constructor"(e){this.request=e}"enable"(e){const t=e?we.resolve(e):we.join(ye.cwd(),"_dump");ve.existsSync(t)||ve.mkdirSync(t,{"recursive":!0}),this.request.eventEmitter.on("responseHTML",(({"url":e,"html":r})=>{const a=this.getNormalizedUrlPath(e),n=we.join(t,`${a}.html`);H(n),ve.writeFileSync(n,r)})),this.request.eventEmitter.on("responseJSON",(({"url":e,"json":r})=>{const a=this.getNormalizedUrlPath(e),n=we.join(t,`${a}.json`);H(n),ve.writeFileSync(n,JSON.stringify(r,null,4))}))}"getNormalizedUrlPath"(e){return`${Date.now()}_${e.pathname.replace(/\/$/,"").replace(/\//g,"_")||"index"}`}};import{URLSearchParams as ke}from"url";import Se from"debug";import Pe from"node-fetch";j=class extends Error{},F=class extends Error{},G=Se("REQUEST"),J=new Date(9999,1,1),q=class{"i";"u"={};"l"=new Map;"eventEmitter"=function(e){return{"all":e=e||new Map,"has":t=>e.has(t),"on"(t,r){const a=e.get(t);a?a.push(r):e.set(t,[r])},"off"(t,r){const a=e.get(t);a&&(r?a.splice(a.indexOf(r)>>>0,1):e.set(t,[]))},"emit"(t,r){let a=e.get(t);a&&a.slice().forEach((e=>{e(r)})),a=e.get("*"),a&&a.slice().forEach((e=>{e(t,r)}))}}}();"setAgent"(e){this.i=e}"setHeader"(e,t){"Cookie"!==e&&G(`[Header] Set: ${e}=${t}`),this.u[e]=t}"h"(){const e=Date.now();this.l.forEach(((t,r)=>{t.expires.getTime()<e&&(G(`[Cookie] Expired: ${r}`),this.l.delete(r))}))}get"cookieString"(){return this.h(),Array.from(this.l).map((([e,t])=>`${encodeURIComponent(e)}=${encodeURIComponent(t.value)}`)).join("; ")}"getCookies"(){return this.h(),[...this.l].reduce(((e,[t,r])=>(e[t]=r.value,e)),{})}"getCookie"(e){var t;return this.h(),null==(t=this.l.get(e))?void 0:t.value}"setCookie"(e,t){G(`[Cookie] Set: ${e}=${t}`),this.l.set(e,{"value":t,"expires":J})}"deleteCookie"(e){G(`[Cookie] Del: ${e}`),this.l.delete(e)}async"m"(e){if(e.ok)return e;if(404===e.status){let t="";try{t=await e.text()}catch(e){}if(/class="deterrenceWarn"/.test(t)){const e=a(t)(".deterrenceWarn").text();if(e)return Promise.reject(new F(e))}}return Promise.reject(new j(`${e.status} ${e.statusText} at ${e.url}`))}"v"(e){const[t,...r]=e.split(";").map((e=>e.trim())),[a,n]=t.split("="),i=r.reduce(((e,t)=>{const[r,a]=t.split("=");return e[r.toLowerCase()]=a,e}),{});let o=J;return i["max-age"]?o=new Date(Date.now()+1e3*Number(i["max-age"])):i.expires&&(o=new Date(i.expires)),[a,{"value":n,"expires":o}]}"k"(e){return e.headers.raw()["set-cookie"]?(e.headers.raw()["set-cookie"].forEach((e=>{G(`[Cookie] Received Set-Cookie: ${e}`);const[t,r]=this.v(e);this.l.set(t,r)})),e):e}"S"(e){const t=new ke;return Object.keys(e).forEach((r=>{t.append(r,e[r])})),t}"P"(e,t,r){const a={},n={"method":e,"headers":a};return"post"===e&&(a["Content-Type"]="application/json",n.body=JSON.stringify(r)),"post-form"===e&&(n.method="post",r&&(n.body=this.S(r))),this.fetch(t,n)}async"C"(e,t){if("GET"!==e)return;const r=new URL(t.url),a=t.headers.get("content-type")||"";if(this.eventEmitter.has("responseHTML")&&a.includes("application/json")){const e=t.clone(),a=await e.json();this.eventEmitter.emit("responseJSON",{"url":r,"json":a})}if(this.eventEmitter.has("responseJSON")&&a.includes("text/html")){const e=t.clone(),a=await e.text();this.eventEmitter.emit("responseHTML",{"url":r,"html":a})}}async"fetch"(e,t={}){var r;const a=Object.assign({},this.u,t.headers,{"cookie":this.cookieString}),n=(null==(r=t.method)?void 0:r.toUpperCase())||"GET";G(`[ RQST ] ${n} ${e}`);const i=await Pe(e,{...t,"headers":a,...this.i&&{"agent":this.i}});return G(`[ RESP ] ${n} ${e} ${i.status} ${i.statusText}`),i.url!==e&&G(`Redirected from ${e} to ${i.url}`),this.C(n,i),await this.m(i),this.k(i),i}"get"(e){return this.P("get",e)}"post"(e,t){return this.P("post",e,t)}"postForm"(e,t){return this.P("post-form",e,t)}},K=class{"BASE_URL"=D;"request"=new q;"dumper"=new U(this.request);"warmedUp"=!1;"constructor"(){this.request.setHeader("Host",this.BASE_URL.replace("https://","")),this.request.setHeader("Origin",this.BASE_URL),this.request.setHeader("Referer",`${this.BASE_URL}/`),this.request.setHeader("User-Agent","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/116.0.0.0 Safari/537.36"),this.request.setCookie("platform","pc"),this.request.setCookie("accessAgeDisclaimerPH","1"),this.request.setCookie("accessAgeDisclaimerUK","1"),this.request.setCookie("accessPH","1"),this.request.setCookie("age_verified","1"),this.request.setCookie("atatusScript","hide"),this.request.setCookie("cookiesBannerSeen","1"),this.request.setCookie("hasVisited","1")}},Q=class{static"getVideoID"(e){const t=/[\w]+\.pornhub\.com\/view_video\.php\?viewkey=([a-zA-z0-9]{1,30})/;return t.test(e)?t.exec(e)[1]:e}static"getAlbumID"(e){const t=/[\w]+\.pornhub\.com\/album\/([0-9]{1,30})/;return t.test(e)?t.exec(e)[1]:e}static"getPhotoID"(e){const t=/[\w]+\.pornhub\.com\/photo\/([0-9]{1,30})/;return t.test(e)?t.exec(e)[1]:e}static"getPornstarName"(e){const r=/[\w]+\.pornhub\.com\/pornstar\/([a-zA-z0-9-]{1,30})/;return r.test(e)?r.exec(e)[1]:t(e)}static"getModelName"(e){const r=/[\w]+\.pornhub\.com\/model\/([a-zA-z0-9-]{1,30})/;return r.test(e)?r.exec(e)[1]:t(e)}static"getChannelName"(e){const r=/[\w]+\.pornhub\.com\/channels\/([a-zA-z0-9-]{1,30})/;return r.test(e)?r.exec(e)[1]:t(e)}},Y=class{"constructor"(e){this.engine=e}"search"(e,t={}){return async function(e,t,r){try{const a=await e.request.get(W.search(t,r));return(await a.json()).videos.map((e=>u(e)))}catch(e){return console.error(e),[]}}(this.engine,e,t)}"getVideo"(e,t){return async function(e,t,r="large"){const a=Q.getVideoID(t),n=await e.request.get(W.video_by_id(a,r));return u((await n.json()).video)}(this.engine,e,t)}"isVideoActive"(e){return async function(e,t){try{const r=Q.getVideoID(t),a=await e.request.get(W.isVideoActive(r)),n=await a.json();if("code"in n)throw new Error(n.message);return"1"===n.active.is_active}catch(e){return console.error(e),!1}}(this.engine,e)}"getVideoEmbedCode"(e){return async function(e,t){try{const r=Q.getVideoID(t),a=await e.request.get(W.video_embed_code(r)),n=await a.json();if("code"in n)throw new Error(n.message);return n.embed.code.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"')}catch(e){return console.error(e),null}}(this.engine,e)}"getDeletedVideos"(e=1){return async function(e,t){try{const r=await e.request.get(W.deletedVideos(t));return(await r.json()).videos}catch(e){return console.error(e),[]}}(this.engine,e)}"getTags"(e="a"){return async function(e,t){try{const r=await e.request.get(W.tags(t));return(await r.json()).tags}catch(e){return console.error(e),[]}}(this.engine,e)}"getCategories"(){return async function(e){try{const t=await e.request.get(W.categories());return(await t.json()).categories.sort(((e,t)=>+e.id-+t.id))}catch(e){return console.error(e),[]}}(this.engine)}"getPornstars"(){return async function(e){try{const t=await e.request.get(W.stars());return(await t.json()).stars.map((e=>e.star.star_name))}catch(e){return console.error(e),[]}}(this.engine)}"getPornstarsDetail"(){return async function(e){try{const t=await e.request.get(W.stars_detailed());return(await t.json()).stars.map((e=>e.star))}catch(e){return console.error(e),[]}}(this.engine)}};import Ce from"urlcat";import Ve from"urlcat";Z=e=>e.replace(/\(.+?\)/g,""),ae={"key":X=e=>e,"value":X},ne={"Relationship status":{"key":()=>"relationship","value":X},"Interested in":{"key":()=>"interestedIn","value":X},"Gender":{"key":()=>"gender","value":X},"Height":{"key":()=>"height","value":X},"Weight":{"key":()=>"weight","value":X},"Ethnicity":{"key":()=>"ethnicity","value":X},"Background":{"key":()=>"background","value":X},"Hair Color":{"key":()=>"hairColor","value":X},"Eye Color":{"key":()=>"eyeColor","value":X},"Fake Boobs":{"key":()=>"fakeBoobs","value":ee=e=>"Yes"===e},"Tattoos":{"key":()=>"tattoos","value":ee},"Piercings":{"key":()=>"piercings","value":ee},"Video Views":{"key":()=>"videoViews","value":re=e=>v(e)},"Profile Views":{"key":()=>"profileViews","value":re},"Videos Watched":{"key":()=>"videoWatched","value":re},"Turn Ons":{"key":()=>"turnOns","value":X},"Turn Offs":{"key":()=>"turnOffs","value":X},"Interests and hobbies":{"key":()=>"interests","value":X},"Born":{"key":()=>"born","value":X},"Birth Place":{"key":()=>"birthPlace","value":X},"Birthplace":{"key":()=>"birthPlace","value":X},"Star Sign":{"key":()=>"starSign","value":X},"Measurements":{"key":()=>"measurements","value":X},"City and Country":{"key":()=>"cityAndCountry","value":X},"Endowment":{"key":()=>"endowment","value":X},"Career Status":{"key":()=>"careerStatus","value":X},"Career Start and End":{"key":()=>"careerStartAndEnd","value":te=e=>e.split(/\s+/).join(" ")}},ie=e=>{if(!e)return 0;const t=e.match(/Showing \d+-\d+ of (\d+)/);return t?v(t[1]):0},le={"key":oe=e=>e,"value":oe},de={"Relationship status":{"key":()=>"relationship","value":oe},"Interested in":{"key":()=>"interestedIn","value":oe},"Gender":{"key":()=>"gender","value":oe},"Height":{"key":()=>"height","value":oe},"Weight":{"key":()=>"weight","value":oe},"Ethnicity":{"key":()=>"ethnicity","value":oe},"Background":{"key":()=>"background","value":oe},"Hair Color":{"key":()=>"hairColor","value":oe},"Eye Color":{"key":()=>"eyeColor","value":oe},"Fake Boobs":{"key":()=>"fakeBoobs","value":se=e=>"Yes"===e},"Tattoos":{"key":()=>"tattoos","value":se},"Piercings":{"key":()=>"piercings","value":se},"Video Views":{"key":()=>"videoViews","value":ce=e=>v(e)},"Profile Views":{"key":()=>"profileViews","value":ce},"Pornstar Profile Views":{"key":()=>"pornstarProfileViews","value":ce},"Videos Watched":{"key":()=>"videoWatched","value":ce},"Turn Ons":{"key":()=>"turnOns","value":oe},"Turn Offs":{"key":()=>"turnOffs","value":oe},"Interests and hobbies":{"key":()=>"interests","value":oe},"Born":{"key":()=>"born","value":oe},"Birth Place":{"key":()=>"birthPlace","value":oe},"Birthplace":{"key":()=>"birthPlace","value":oe},"Star Sign":{"key":()=>"starSign","value":oe},"Measurements":{"key":()=>"measurements","value":oe},"City and Country":{"key":()=>"cityAndCountry","value":oe},"Endowment":{"key":()=>"endowment","value":oe},"Career Status":{"key":()=>"careerStatus","value":oe},"Career Start and End":{"key":()=>"careerStartAndEnd","value":ue=e=>e.split(/\s+/).join(" ")}},he=e=>{if(!e)return 0;const t=e.match(/Showing \d+-\d+ of (\d+)/);return t?v(t[1]):0},me=/{"defaultQuality":(true|false|\d+),"format":"(\w+)","videoUrl":"(.+?)","quality":(("\d+")|(\[[\d,]*\]))(,"remote":(true|false))?}/g;import Me from"urlcat";import _e from"urlcat";ge=class{"route"=z;"engine"=new K;"webMaster"=new Y(this.engine);"constructor"(e={}){e.dumpPage&&this.engine.dumper.enable("string"==typeof e.dumpPage?e.dumpPage:"")}"setAgent"(e){this.engine.request.setAgent(e)}"setHeader"(e,t){this.engine.request.setHeader(e,t)}"getCookies"(){return this.engine.request.getCookies()}"getCookie"(e){return this.engine.request.getCookie(e)}"setCookie"(e,t){this.engine.request.setCookie(e,t)}"deleteCookie"(e){this.engine.request.deleteCookie(e)}async"warmup"(){console.warn("`warmup` has been deprecated. You can safely remove this method call. It has been handled internally.")}"login"(e,t){return async function(e,t,n){if(!t||"string"!=typeof t)throw new Error("Invalid Account");if(!n||"string"!=typeof n)throw new Error("Invalid Password");const{"token":i,"redirect":o}=await async function(e){try{const t=a(await r(e));return{"token":t('[name="token"]').attr("value")||"","redirect":t('[name="redirect"]').attr("value")||""}}catch(e){return await Promise.reject(e)}}(e),s=await async function(e,t,r,a,n){const i={"redirect":n,"token":a,"remember_me":1,"from":"pc_login_modal_:show","username":t,"password":r,"setSendTip":!1},o=await e.request.postForm(z.authenticate(),i);return await o.json()}(e,t,n,i,o);return s.success?{"success":!0,"message":"Successfully logged in.","premium":"1"===s.premium_redirect_cookie}:{"success":!1,"message":`Login fail, Reason: ${s.message}`,"premium":!1}}(this.engine,e,t)}"logout"(){return async function(e){try{const t=await r(e),a=/href="\/user\/logout\?token=([a-zA-Z0-9-_.]*?)"/.exec(t);if(!a)throw new Error("Logout failed");const n=a[1];return await e.request.get(z.logout(n)),{"success":!0,"message":"Successfully logged out"}}catch(e){return Promise.reject(e)}}(this.engine)}"getToken"(){return o(this.engine)}async"video"(e){return this.engine.warmedUp||(await r(this.engine),this.engine.warmedUp=!0),async function(e,t){const r=Q.getVideoID(t),n=z.videoPage(r),i=await e.request.get(n),o=await i.text(),s=a(o);return{"id":r,"url":n,"mediaDefinitions":P(o),...k(0,s)}}(this.engine,e)}"album"(e){return async function(e,t){const r=Q.getAlbumID(t),n=z.albumPage(r),i=await e.request.get(n),o=a(await i.text());return{"title":o("h1.photoAlbumTitleV2").text().trim(),"photos":g(o),"provider":p(o),"tags":f(o)}}(this.engine,e)}"photo"(e){return async function(e,t){const r=Q.getPhotoID(t),n=z.photoPage(r),i=await e.request.get(n),o=a(await i.text());return{"info":w(o),"provider":y(o),"tags":b(o)}}(this.engine,e)}"pornstar"(e){return async function(e,t){const r=Q.getPornstarName(t);if(!r)throw new Error(`Invalid pornstar input: ${t}`);const o=z.pornstarPage(r),s=await e.request.get(o);return function(e){const t=e("div.infoPiece").toArray(),r=Object.fromEntries(t.map((t=>{const r=e(t),a=r.find("span:nth-child(1)").text().trim().replace(":",""),n=r.find("span:nth-child(2)").text().trim()||r.text().replace(r.find("span:nth-child(1)").text(),"").trim(),i=de[a]||le;return[i.key(a),i.value(n)]}))),a=e(".nameSubscribe > .name").text().trim(),o=v(e("div.rankingInfo > .infoBox > span").text().trim()),s=n(e("img#getAvatar, .topProfileHeader > .thumbImage > img"),"src",""),u=n(e("img#coverPictureDefault, .topProfileHeader > .coverImage > img"),"src",""),c=e("section.aboutMeSection > div:nth-child(2)").text().trim(),l=e('.biographyText .content div[itemprop="description"], .bio:not(:has(.aboutMeSection)) > .text'),d=ue(l.text().trim()),h=!!e(".badge-username > .verifiedPornstar").length,g=!!e(".badge-username > .trophyPornStar").length,p=!!e(".badge-username > .premium-icon").length,f=i(e('div.tooltipTrig.infoBox[data-title^="Subscribers:"]'),"title","").replace("Subscribers: ",""),w=e('div.infoBox:has(.title:contains("Subscribers")) > span').text().trim(),y=v(f)||v(w),b=e("div.featuredIn > a").toArray().map((t=>{const r=e(t);return{"name":r.text().trim(),"url":n(r,"href","")}})).filter((e=>e.name&&e.url));let k=null,S=null,P=0,C=0;if(h)k=e(".pornstarUploadedVideos"),P=he(k.find(".pornstarVideosCounter").text().trim()),S=e(".mostRecentPornstarVideos"),C=he(S.find(".pornstarVideosCounter").text().trim());else{const t=e(".pornstarVideosCounter").first();t.length&&t.parent().find(".sectionTitle > h2").first().text().trim().endsWith("Tagged Videos")&&(S=t.parent(),C=he(t.text().trim()))}return{"name":a,"about":c,"bio":d,"avatar":s,"cover":u,"rank":o,"verified":h,"awarded":g,"premium":p,"subscribers":y,"featuredIn":b,"uploadedVideoCount":P,"taggedVideoCount":C,...r,"socials":{"website":n(e(".socialList a:has(.officialSiteIcon)"),"href"),"twitter":n(e(".socialList a:has(.ph-icon-twitterX)"),"href"),"instagram":n(e(".socialList a:has(.instagramIcon)"),"href"),"snapchat":n(e(".socialList a:has(.snapchatIcon)"),"href"),"modelhub":n(e(".socialList a:has(.modelhubIcon)"),"href"),"amazonWishList":n(e(".socialList a:has(.amazonWishlistIcon)"),"href")||n(e(".socialList a:has(.amazonWLIcon)"),"href")},"uploadedVideos":k?m(e,k):[],"mostRecentVideos":S?m(e,S):[]}}(a(await s.text()))}(this.engine,e)}"model"(e){return async function(e,t){const r=Q.getModelName(t);if(!r)throw new Error(`Invalid model input: ${t}`);const o=z.modelPage(r),s=await e.request.get(o);return function(e){const t=e("div.infoPiece").toArray(),r=Object.fromEntries(t.map((t=>{const r=e(t),a=r.find("span:nth-child(1)").text().trim().replace(":",""),n=r.find("span:nth-child(2)").text().trim()||r.text().replace(r.find("span:nth-child(1)").text(),"").trim(),i=ne[a]||ae;return[i.key(a),i.value(n)]}))),a=e(".nameSubscribe > .name").text().trim(),o=v(e("div.rankingInfo > .infoBox > span").text().trim()),s=n(e("img#getAvatar, .topProfileHeader > .thumbImage > img"),"src",""),u=n(e("img#coverPictureDefault, .topProfileHeader > .coverImage > img"),"src",""),c=e("section.aboutMeSection > div:nth-child(2)").text().trim(),l=e('.biographyText .content div[itemprop="description"], .bio:not(:has(.aboutMeSection)) > .text'),d=te(l.text().trim()),h=!!e(".badge-username > .verifiedPornstar").length,g=!!e(".badge-username > .trophyPornStar").length,p=!!e(".badge-username > .premium-icon").length,f=i(e('div.tooltipTrig.infoBox[data-title^="Subscribers:"]'),"title","").replace("Subscribers: ",""),w=e('div.infoBox:has(.title:contains("Subscribers")) > span').text().trim(),y=v(f)||v(w),b=e("div.featuredIn > a").toArray().map((t=>{const r=e(t);return{"name":r.text().trim(),"url":n(r,"href","")}})).filter((e=>e.name&&e.url));let k=0;if(h){const t=e(".mostRecentPornstarVideos > .pornstarVideosCounter");k=ie(t.text().trim())}return{"name":a,"about":c,"bio":d,"avatar":s,"cover":u,"rank":o,"verified":h,"awarded":g,"premium":p,"subscribers":y,"featuredIn":b,"uploadedVideoCount":k,"taggedVideoCount":0,...r,"socials":{"website":n(e(".socialList a:has(.officialSiteIcon)"),"href"),"twitter":n(e(".socialList a:has(.ph-icon-twitterX)"),"href"),"instagram":n(e(".socialList a:has(.instagramIcon)"),"href"),"snapchat":n(e(".socialList a:has(.snapchatIcon)"),"href"),"modelhub":n(e(".socialList a:has(.modelhubIcon)"),"href"),"amazonWishList":n(e(".socialList a:has(.amazonWishlistIcon)"),"href")||n(e(".socialList a:has(.amazonWLIcon)"),"href")},"mostRecentVideos":m(e,".mostRecentPornstarVideos")}}(a(await s.text()))}(this.engine,e)}"modelVideos"(e,t={}){return async function(e,t,r){const n=Q.getModelName(t);if(!n)throw new Error(`Invalid model input: ${t}`);const i=z.modelVideosPage(n,r.page??1),o=await e.request.get(i),s=a(await o.text());return{"data":m(s,".videoUList"),"paging":c(s),"counting":l(s)}}(this.engine,e,t)}"randomVideo"(){return async function(e){const t=z.randomPage(),r=await e.request.fetch(t,{"follow":3}),n=Q.getVideoID(r.url),i=await r.text(),o=a(i);return{"id":n,"url":z.videoPage(n),"mediaDefinitions":P(i),...k(0,o)}}(this.engine)}"autoComplete"(e,t={}){return s(this.engine,e,t)}"searchAlbum"(e,t={}){return async function(e,t,r){const n=z.albumSearch(t,r),i=await e.request.get(n),o=a(await i.text());return{"data":C(o),"paging":c(o),"counting":l(o)}}(this.engine,e,t)}"searchGif"(e,t={}){return async function(e,t,r){const n=z.gifSearch(t,r),i=await e.request.get(n),o=a(await i.text());return{"data":V(o),"paging":c(o),"counting":l(o)}}(this.engine,e,t)}"searchPornstar"(e,t={}){return async function(e,t,r){const n=z.pornstarSearch(t,r),i=await e.request.get(n),o=a(await i.text());return{"data":M(o),"paging":c(o),"counting":l(o)}}(this.engine,e,t)}"searchModel"(e,t={}){return async function(e,t,r={}){return(await s(e,t,r)).models}(this.engine,e,t)}"searchVideo"(e,t={}){return async function(e,t,r){const n=z.videoSearch(t,r),i=await e.request.get(n),o=a(await i.text());return{"data":m(o,"#videoSearchResult"),"paging":c(o),"counting":l(o)}}(this.engine,e,t)}"videoList"(e={}){return async function(e,t){const r=z.videoList(t),n=await e.request.get(r),i=a(await n.text());return{"data":m(i,"#videoCategory"),"paging":c(i),"counting":l(i)}}(this.engine,e)}"pornstarList"(e={}){return async function(e,t){const r=z.pornstarList(t),n=await e.request.get(r),i=a(await n.text());return{"data":d(i),"paging":c(i)}}(this.engine,e)}"recommendedVideos"(e={}){return async function(e,t){const r=z.recommendedPage(t),n=await e.request.get(r),i=a(await n.text());return{"data":m(i,".recommendedVideosContainer"),"paging":c(i)}}(this.engine,e)}};export{I as AlbumOrderingMapping,R as GifOrderingMapping,j as HttpStatusError,F as IllegalError,ge as PornHub,L as PornstarListOrderingMapping,$ as PornstarOrderingMapping,N as PornstarPopularPeriodMapping,A as PornstarViewedPeriodMapping,T as RecommendedOrderingMapping,x as VideoListOrderingMapping,_ as VideoOrderingMapping,B as VideoSearchPeriodMapping};