import r from"express";import*as e from"../../scrape/index.js";import a from"../../middlewares/apiKeyMiddleware.js";console.log(e);const t=r.Router();t.use(a),t.get("/:route",(async(r,a)=>{try{switch(r.params.route){case"doujin-search":return r.query.q?a.json(await e.doujindesusearch(r.query.q)):a.status(400).json({"error":"Parameter tidak valid. q diperlukan."});case"doujin-ch":return r.query.url?a.json(await e.doujindesuch(r.query.url)):a.status(400).json({"error":"Parameter tidak valid. url diperlukan."});case"doujin-img":return r.query.url?a.json(await e.dojindsgetimg(r.query.url)):a.status(400).json({"error":"Parameter tidak valid. url diperlukan."});case"komikindo-ch":return a.json(await e.komikindogetch());case"doujin-latest":return a.json(await e.doujindesulatest());case"hentai":return a.json(await e.hentai());case"whatanime":return r.query.url?a.json(await e.traceMoe(r.query.url)):a.status(400).json({"error":"Parameter tidak valid. url diperlukan."});case"nhentai-search":return r.query.q?a.json(await e.nhentaisearch(r.query.q)):a.status(400).json({"error":"Parameter tidak valid. q diperlukan."});default:return a.status(404).json({"error":"Route tidak ditemukan."})}}catch(r){return console.error(r),a.status(500).json({"error":"Terjadi kesalahan internal server."})}}));export default t;