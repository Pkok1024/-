import r from"express";import e from"multer";import o from"path";import s from"../../scrape/cdn.js";import t from"../../models/user.js";const a=r.Router(),m=e.memoryStorage(),n=e({"storage":m});a.post("/cdn",n.single("file"),(async(r,e)=>{try{const{"buffer":t,"originalname":a}=r.file,m=(o.extname(a),await s(t,a));e.json({"status":"Success","code":200,"author":author,"data":m})}catch(r){console.error("Error processing file upload:",r),e.status(500).json({"error":"Internal Server Error","message":"An error occurred while processing the file upload."})}}));export default a;