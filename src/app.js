import r from"body-parser";import o from"compression";import s from"cors";import e from"express";import t from"helmet";import m from"path";import p from"chalk";import i from"./lib/resetLimitsCron.js";import u from"./routes/apiRouter.js";import f from"./routes/authRoutes.js";import c from"./routes/docsRouter.js";import a from"./routes/verifyRoutes.js";import l from"./views/error.js";import j from"./views/home.js";import n from"./lib/logger.js";const d=e();i(),"development"===process.env.NODE_ENV&&d.use(n),d.use(s()),d.set("trust proxy",1),d.use(o()),d.enable("trust proxy"),d.set("json spaces",2),d.use(c),d.use(t()),d.use("/",j,a,u,f),d.use(l),d.use(((r,o,s)=>{console.error(r.stack),s.status(500).sendFile(m.join(process.cwd(),"/src/views/pages/error/500.html"))}));export default d;